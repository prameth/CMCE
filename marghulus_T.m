clc
x1 = [0 0.0455 0.0940 0.1829 0.2909 0.3980 0.5069 0.5458 0.5946 0.7204 0.8145 0.8972 0.9573 1];
x2 = 1-x1;
%y1 = [0 0.1056 0.1818 0.2783 0.3607 0.4274 0.4885 0.5098 0.5375 0.6157 0.6913 0.7869 0.8916 0];
%y2 = 1-y1;
P = 35.792;
a1 = 4.27873;
b1 = 1355.374;
c1 = -37.853;
a2 = 0.1459;
b2 = 39.165;
c2 = -261.23;
a12 = 1.21224784189953;
a21 = 1.00348471578356;
n = length(x1);
for i=1:n
    g1(i) = exp(x2(i)^2*(a12 + (2*x1(i)*(a21 - a12))));
    g2(i) = exp(x1(i)^2*(a21 + (2*x1(i)*(a12 - a21))));
end
Temp = 300;
eps = 10e-5;
T = Temp;
iter = 100;
func = (x1.*g1*(exp(a1-(b1/(T+c1)))))+(x2.*g2*(exp(a2-(b2/(T+c2)))))-P
g = [diff(func) -0.0512]
for i=1:iter
    Tnew = T -(func/g);
    if abs(Tnew - T)<eps
        break;
    else
        T = Tnew
    end
end



